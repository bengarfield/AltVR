<!DOCTYPE html>
<html>
<head>
	<title>GameShow</title>
	<script src="https://aframe.io/releases/0.7.0/aframe.js"></script>
	<script src="https://sdk.altvr.com/libs/altspace.js/2.9.0/altspace.min.js"></script>
</head>
<body>
	<a-scene position='0 0 0' altspace='fullspace: true' sync-system='author: BenG; app: quizCrowns; refUrl: https://altvr-apps.firebaseio.com/'>
		<a-mixin id='winnerCrown' position='0 .1 .015' scale='.11 .11 .11' rotation='0 180 0' obj-model='obj: crown2.obj; mtl: crown2.mtl' collapse-model></a-mixin>

		<a-mixin id='s-series-m01' position='0 .1 .015' scale='.11 .11 .11'></a-mixin>
		<a-mixin id='s-series-f01' position='0 .1 .03' scale='.11 .11 .11'></a-mixin>
		<a-mixin id='a-series-m01' position='0 .07 .01' scale='.1 .1 .1'></a-mixin>
		<a-mixin id='x-series-m02' position='0 .11 .05' scale='.1 .1 .1'></a-mixin>
		<a-mixin id='pod-classic' position='0 .1 .04' scale='.14 .14 .14'></a-mixin>
		<a-mixin id='robothead-propellerhead-01' position='0 .1 .08' scale='.12 .12 .12'></a-mixin>
		<a-mixin id='robothead-roundguy-01' position='0 .17 .025' scale='.17 .17 .17'></a-mixin>
		<a-mixin id='rubenoid' position='0 .11 .04' scale='.14 .14 .14'></a-mixin>
		
		<a-mixin id='sync' n-skeleton-parent='part: head' sync sync-n-skeleton-parent></a-mixin>
	</a-scene>
<script>
	var scene = document.querySelector('a-scene');
	scene.addEventListener('connected', function() {
		altspace.getUser().then(function(user){
			var avatar = user.avatarInfo.sid;
			
			if (avatar.includes('rubenoid')) {
				avatar = 'rubenoid';
			}

			scene.systems['sync-system'].instantiate('winnerCrown ' + avatar + ' sync', scene);
		});	
	});			
</script>		
</body>
</html>